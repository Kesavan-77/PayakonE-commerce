{"ast":null,"code":"import _objectSpread from\"/home/kesavan-vel/Documents/Yo/React/E-Commerce/payakanMart/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/kesavan-vel/Documents/Yo/React/E-Commerce/payakanMart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useEffect,useReducer}from\"react\";import reducer from'../reducer/CartReducer';import{jsx as _jsx}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/createContext();var getLocalCartData=function getLocalCartData(){var localCartData=localStorage.getItem(\"pkCart\");if(!localCartData||localCartData===\"null\")return[];else return JSON.parse(localCartData);};var initialState={cart:getLocalCartData(),total_items:\"\",total_amount:\"\",shipping_fee:0};var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var addToCart=function addToCart(amount,product){dispatch({type:\"ADD_TO_CART\",payload:{amount:amount,product:product}});};var setDecrease=function setDecrease(id){dispatch({type:\"SET_DECREMENT\",payload:id});};var setIncrement=function setIncrement(id){dispatch({type:\"SET_INCREMENT\",payload:id});};var removeItem=function removeItem(id){dispatch({type:\"REMOVE_ITEM\",payload:id});};var clearCart=function clearCart(){dispatch({type:\"CLEAR_CART\"});};useEffect(function(){dispatch({type:\"CART_TOTAL\"});localStorage.setItem(\"pkCart\",JSON.stringify(state.cart));},[state.cart]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{addToCart:addToCart,removeItem:removeItem,clearCart:clearCart,setDecrease:setDecrease,setIncrement:setIncrement}),children:children});};var useCartContext=function useCartContext(){return useContext(CartContext);};export{CartProvider,useCartContext};","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","reducer","CartContext","getLocalCartData","localCartData","localStorage","getItem","JSON","parse","initialState","cart","total_items","total_amount","shipping_fee","CartProvider","children","state","dispatch","addToCart","amount","product","type","payload","setDecrease","id","setIncrement","removeItem","clearCart","setItem","stringify","useCartContext"],"sources":["/home/kesavan-vel/Documents/Yo/React/E-Commerce/payakanMart/src/context/CartContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useReducer } from \"react\";\nimport reducer from '../reducer/CartReducer';\n\nconst CartContext = createContext();\n\nconst getLocalCartData = () =>{\n    let localCartData = localStorage.getItem(\"pkCart\");\n    if (!localCartData || localCartData === \"null\") return [];\n    else return JSON.parse(localCartData);\n}\n\nconst initialState = {\n    cart: getLocalCartData(),\n    total_items:\"\",\n    total_amount:\"\",\n    shipping_fee:0,\n}\n\n\n\nconst CartProvider = ({children}) => {\n\n    const[state,dispatch] = useReducer(reducer, initialState)\n\n    const addToCart = (amount,product) => {\n        dispatch({type:\"ADD_TO_CART\", payload:{amount,product}})\n    }\n\n    const setDecrease = (id) => {\n        dispatch({ type: \"SET_DECREMENT\", payload: id });\n      };\n\n    const setIncrement = (id) => {\n        dispatch({ type: \"SET_INCREMENT\", payload: id });\n      };\n\n    const removeItem = (id)=>{\n        dispatch({type:\"REMOVE_ITEM\",payload:id})\n    }\n\n    const clearCart = ()=>{\n        dispatch({type:\"CLEAR_CART\"},)\n    };\n\n    useEffect(()=>{\n        dispatch({type:\"CART_TOTAL\"})\n        localStorage.setItem(\"pkCart\",JSON.stringify(state.cart))\n    },[state.cart])\n\n    return <CartContext.Provider value={{...state,addToCart,removeItem,clearCart,setDecrease,setIncrement}}>{children}</CartContext.Provider>\n};\n\n\nconst useCartContext = ()=>{\n    return useContext(CartContext);\n}\n\nexport {CartProvider, useCartContext }"],"mappings":"iSAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,SAApC,CAA+CC,UAA/C,KAAiE,OAAjE,CACA,MAAOC,QAAP,KAAoB,wBAApB,C,2CAEA,GAAMC,YAAW,cAAGL,aAAa,EAAjC,CAEA,GAAMM,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAK,CAC1B,GAAIC,cAAa,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAApB,CACA,GAAI,CAACF,aAAD,EAAkBA,aAAa,GAAK,MAAxC,CAAgD,MAAO,EAAP,CAAhD,IACK,OAAOG,KAAI,CAACC,KAAL,CAAWJ,aAAX,CAAP,CACR,CAJD,CAMA,GAAMK,aAAY,CAAG,CACjBC,IAAI,CAAEP,gBAAgB,EADL,CAEjBQ,WAAW,CAAC,EAFK,CAGjBC,YAAY,CAAC,EAHI,CAIjBC,YAAY,CAAC,CAJI,CAArB,CASA,GAAMC,aAAY,CAAG,QAAfA,aAAe,MAAgB,IAAdC,SAAc,MAAdA,QAAc,CAEjC,gBAAwBf,UAAU,CAACC,OAAD,CAAUQ,YAAV,CAAlC,4CAAMO,KAAN,iBAAYC,QAAZ,iBAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,MAAD,CAAQC,OAAR,CAAoB,CAClCH,QAAQ,CAAC,CAACI,IAAI,CAAC,aAAN,CAAqBC,OAAO,CAAC,CAACH,MAAM,CAANA,MAAD,CAAQC,OAAO,CAAPA,OAAR,CAA7B,CAAD,CAAR,CACH,CAFD,CAIA,GAAMG,YAAW,CAAG,QAAdA,YAAc,CAACC,EAAD,CAAQ,CACxBP,QAAQ,CAAC,CAAEI,IAAI,CAAE,eAAR,CAAyBC,OAAO,CAAEE,EAAlC,CAAD,CAAR,CACD,CAFH,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACD,EAAD,CAAQ,CACzBP,QAAQ,CAAC,CAAEI,IAAI,CAAE,eAAR,CAAyBC,OAAO,CAAEE,EAAlC,CAAD,CAAR,CACD,CAFH,CAIA,GAAME,WAAU,CAAG,QAAbA,WAAa,CAACF,EAAD,CAAM,CACrBP,QAAQ,CAAC,CAACI,IAAI,CAAC,aAAN,CAAoBC,OAAO,CAACE,EAA5B,CAAD,CAAR,CACH,CAFD,CAIA,GAAMG,UAAS,CAAG,QAAZA,UAAY,EAAI,CAClBV,QAAQ,CAAC,CAACI,IAAI,CAAC,YAAN,CAAD,CAAR,CACH,CAFD,CAIAtB,SAAS,CAAC,UAAI,CACVkB,QAAQ,CAAC,CAACI,IAAI,CAAC,YAAN,CAAD,CAAR,CACAhB,YAAY,CAACuB,OAAb,CAAqB,QAArB,CAA8BrB,IAAI,CAACsB,SAAL,CAAeb,KAAK,CAACN,IAArB,CAA9B,EACH,CAHQ,CAGP,CAACM,KAAK,CAACN,IAAP,CAHO,CAAT,CAKA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,gCAAMM,KAAN,MAAYE,SAAS,CAATA,SAAZ,CAAsBQ,UAAU,CAAVA,UAAtB,CAAiCC,SAAS,CAATA,SAAjC,CAA2CJ,WAAW,CAAXA,WAA3C,CAAuDE,YAAY,CAAZA,YAAvD,EAA3B,UAAkGV,QAAlG,EAAP,CACH,CA9BD,CAiCA,GAAMe,eAAc,CAAG,QAAjBA,eAAiB,EAAI,CACvB,MAAOhC,WAAU,CAACI,WAAD,CAAjB,CACH,CAFD,CAIA,OAAQY,YAAR,CAAsBgB,cAAtB"},"metadata":{},"sourceType":"module"}