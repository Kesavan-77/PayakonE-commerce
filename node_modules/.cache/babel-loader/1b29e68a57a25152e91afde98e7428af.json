{"ast":null,"code":"import _slicedToArray from\"/home/kesavan-vel/Documents/Yo/React/E-Commerce/payakanMart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useCartContext}from'../context/CartContext';import{NavLink}from'react-router-dom';import CartAmountToggle from'../components/CartAmountToggle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CartItem(_ref){var id=_ref.id,name=_ref.name,image=_ref.image,company=_ref.company,price=_ref.price,amount=_ref.amount,stock=_ref.stock;var _useState=useState(amount),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _useState3=useState(quantity*price),_useState4=_slicedToArray(_useState3,2),totalNetAmount=_useState4[0],setTotalNetAmount=_useState4[1];var _useCartContext=useCartContext(),removeItem=_useCartContext.removeItem,setDecrease=_useCartContext.setDecrease,setIncrement=_useCartContext.setIncrement;useEffect(function(){// Update total net amount whenever quantity changes\nsetTotalNetAmount(quantity*price);},[quantity,price]);var handleDecrease=function handleDecrease(){setDecrease(id);setQuantity(function(prevQuantity){return Math.max(prevQuantity-1,0)<=1?1:Math.max(prevQuantity-1,0);});};var handleIncrease=function handleIncrease(){setIncrement(id);setQuantity(function(prevQuantity){return prevQuantity+1>=stock?stock:prevQuantity+1;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-img\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"product\",height:\"120px\",width:\"170px\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quantity\",children:/*#__PURE__*/_jsx(CartAmountToggle,{amount:quantity,setDecrease:handleDecrease,setIncrease:handleIncrease})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:name}),/*#__PURE__*/_jsx(\"p\",{children:company}),/*#__PURE__*/_jsx(\"h3\",{children:new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumSignificantDigits:3}).format(price)}),/*#__PURE__*/_jsx(NavLink,{to:\"/error\",children:/*#__PURE__*/_jsx(\"button\",{id:\"buyNow\",children:\"Buy Now\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeItem(id);},id:\"remove\",children:\"Remove\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-total\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Total Count of Items:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:quantity})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Shipping cost:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Free\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Total net amount:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumSignificantDigits:3}).format(totalNetAmount)})})]})]})})})]});}","map":{"version":3,"names":["React","useState","useEffect","useCartContext","NavLink","CartAmountToggle","CartItem","id","name","image","company","price","amount","stock","quantity","setQuantity","totalNetAmount","setTotalNetAmount","removeItem","setDecrease","setIncrement","handleDecrease","prevQuantity","Math","max","handleIncrease","Intl","NumberFormat","style","currency","maximumSignificantDigits","format"],"sources":["/home/kesavan-vel/Documents/Yo/React/E-Commerce/payakanMart/src/components/CartItem.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCartContext } from '../context/CartContext';\nimport { NavLink } from 'react-router-dom';\nimport CartAmountToggle from '../components/CartAmountToggle';\n\nexport default function CartItem({ id, name, image, company, price, amount, stock }) {\n  const [quantity, setQuantity] = useState(amount);\n  const [totalNetAmount, setTotalNetAmount] = useState(quantity * price);\n\n  const { removeItem, setDecrease, setIncrement } = useCartContext();\n\n  useEffect(() => {\n    // Update total net amount whenever quantity changes\n    setTotalNetAmount(quantity * price);\n  }, [quantity, price]);\n\n  const handleDecrease = () => {\n    setDecrease(id);\n    setQuantity((prevQuantity) => Math.max(prevQuantity - 1, 0)<=1?1:Math.max(prevQuantity - 1, 0));\n  };\n\n  const handleIncrease = () => {\n    setIncrement(id);\n    setQuantity((prevQuantity) => prevQuantity + 1 >= stock ? stock : prevQuantity + 1);\n  };\n\n  return (\n    <div className='cart-item'>\n      <div className='cart-img'>\n        <img src={image} alt='product' height='120px' width='170px' />\n        <div className='quantity'>\n          <CartAmountToggle\n            amount={quantity}\n            setDecrease={handleDecrease}\n            setIncrease={handleIncrease}\n          />\n        </div>\n      </div>\n      <div className='cart-details'>\n        <h4>{name}</h4>\n        <p>{company}</p>\n        <h3>\n          {new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumSignificantDigits: 3 }).format(\n            price\n          )}\n        </h3>\n        <NavLink to='/error'>\n          <button id='buyNow'>Buy Now</button>\n        </NavLink>\n        <button onClick={() => removeItem(id)} id='remove'>\n          Remove\n        </button>\n      </div>\n      <div className='cart-total'>\n        <table>\n          <tbody>\n            <tr>\n              <th>Total Count of Items:</th>\n              <td>\n                <p>{quantity}</p>\n              </td>\n            </tr>\n            <tr>\n              <th>Shipping cost:</th>\n              <td>\n                <p>Free</p>\n              </td>\n            </tr>\n            <tr>\n              <th>Total net amount:</th>\n              <td>\n                <p>\n                  {new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumSignificantDigits: 3 }).format(\n                    totalNetAmount\n                  )}\n                </p>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}